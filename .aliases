# JUMP
alias cd..='cd ..'
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."
alias .....="cd ../../../.."

# MISC
alias h="history --show-time='%d.%h - %H:%M:%S '"
alias a='bat'
alias r='ranger'
alias l='ls -lrthp'
alias tre='exa --long --tree --color-scale'
alias grid='exa --recurse -L 2 -l --grid'
alias ap='ansible-playbook'
alias tf='terraform'
alias tfer='terraformer'
alias bs='base64 --decode'
alias timer='echo "Timer started. Stop with Ctrl-D." && date && time cat && date'
alias v='vault'
alias f='flux'
alias f2='flux2'
alias g='gcloud'
alias publicip='curl ipinfo.io/ip'
alias privateip="ifconfig | grep -Eo 'inet (addr:)?([0-9]*\.){3}[0-9]*' | grep -Eo '([0-9]*\.){3}[0-9]*' | grep -v '127.0.0.1'"
alias ifactive="ifconfig | pcregrep -M -o '^[^\t:]+:([^\n]|\n\t)*status: active'"
alias dig='dig +short'
alias duf='duf -hide special'
alias wttr='curl "https://wttr.in/?location=Belgrade"'
alias rgg='vim $(rg . | fzf | cut -d ":" -f 1)'

# GIT
alias gs='git status'
alias dif='git diff'
alias gb='git symbolic-ref --short HEAD'
alias gf='git fetch origin'
alias gmr='git merge origin master'
alias gbr='git branch -av'
alias g1='git log -1'
alias gl="git log --graph --pretty=format:'%C(yellow)%h%C(cyan)%d%Creset %s %C(white)- %an, %ar%Creset'"
alias gll='git log --stat --abbrev-commit'
alias gld='git log --pretty=format:%cd --date=short | uniq -c'
alias gplom='git pull origin master'
alias grb='git fetch origin && git rebase origin master'
alias gm='git checkout master; git reset --hard origin/master; gplom'
alias gc='git checkout -b'
alias gcm='git checkout master'
alias gac='git add . && git commit -m'
alias gp='git push'

# DOCKER
alias dps='docker ps --all --format "table {{.Names}}\t{{.Status}}\t{{.Image}}\t{{.Ports}}"'
alias di='docker images'
alias dsp='docker system prune'
alias dis='docker images --format '{{.Size}}\t{{.Repository}}' | sort -r'
alias dn='docker network ls'
alias dv='docker volume ls'
alias dc="docker-compose"

# KUBERNETES
alias k='kubectl'
alias ktx='kubectx'
alias kx='ktx -'
alias kns='kubens'
alias ktl='kubetail'
alias kap='k apply -f'
alias kdif="KUBECTL_EXTERNAL_DIFF='colordiff -N -u' kubectl diff -f"
alias ksys='k get --namespace kube-system'
alias kall='k get -A'
alias kgc='k get pod -o="custom-columns=NAME:.metadata.name,INIT-CONTAINERS:.spec.initContainers[*].name,CONTAINERS:.spec.containers[*].name"'
alias kgci='k get pod --all-namespaces -o jsonpath="{.items[*].spec.containers[*].image}" | tr -s \'[[:space:]]\' \'\n\' | sort | uniq -c'
alias kgcall='kgc -A'
alias kgpw='k get po -w'
alias dp='describepod'
alias tp='tailpod'
alias ep='execpod'
alias kpf='k port-forward'
alias kvs='k view-secret'
alias rbac='rbac-lookup'
alias kconvert='kubectl-convert'
alias kbox='k run busybox --image=radial/busyboxplus:curl -i --attach --tty --rm'
alias hall='helm ls --all-namespaces'
alias kgmci='k get mci'
alias kgmcs='k get mcs'
alias am='amtool'
alias aml='amtool alert'
alias ams='amtool silence'
alias kgn2='k get no -o custom-columns=Name:".metadata.name",Kubelet:.status.nodeInfo.kubeletVersion,Status:.status.conditions[-1].reason,Date:".metadata.creationTimestamp",InstType:".metadata.labels.beta\.kubernetes\.io/instance-type,Cpu Cores:.status.capacity.cpu,Ram:.status.capacity.memory,Internal-IP:".status.addresses[0].address", External-IP:".status.addresses[1].address",Taints:.spec.taints" --sort-by=.metadata.creationTimestamp'

# KUBERNETES - basic
alias kgp='k get po'
alias kgpo='k get po -owide'
alias kgs='k get svc'
alias kgi='k get ing'
alias kgd='k get deploy'
alias kgsts='k get sts'
alias kgds='k get ds'
alias kgsec='k get secret'
alias kgsm='k get servicemonitor'
alias kgpr='k get prometheusrule'
alias kgns='k get ns'
alias kgcm='k get cm'
alias kgsa='k get sa'
alias kghpa='k get hpa'
alias kgsc='k get sc'
alias kgev='k get ev'
alias kgcert='k get cert'
alias kgcrs='k get crs'
alias kgpv='k get pv'
alias kgpvc='k get pvc'
alias kgn='k get no'
alias kgpdb='k get pdb'
alias kgep='k get ep'

# KUBERNETES - sort by creation time
alias kgp1='k get po --sort-by=.metadata.creationTimestamp'
alias kgpo1='k get po -owide --sort-by=.metadata.creationTimestamp'
alias kgs1='k get svc --sort-by=.metadata.creationTimestamp'
alias kgi1='k get ing --sort-by=.metadata.creationTimestamp'
alias kgd1='k get deploy --sort-by=.metadata.creationTimestamp'
alias kgsts1='k get sts --sort-by=.metadata.creationTimestamp'
alias kgds1='k get ds --sort-by=.metadata.creationTimestamp'
alias kgsec1='k get secret --sort-by=.metadata.creationTimestamp'
alias kgsm1='k get servicemonitor --sort-by=.metadata.creationTimestamp'
alias kgpr1='k get prometheusrule --sort-by=.metadata.creationTimestamp'
alias kgns1='k get ns --sort-by=.metadata.creationTimestamp'
alias kgcm1='k get cm --sort-by=.metadata.creationTimestamp'
alias kgsa1='k get sa --sort-by=.metadata.creationTimestamp'
alias kghpa1='k get hpa --sort-by=.metadata.creationTimestamp'
alias kgsc1='k get sc --sort-by=.metadata.creationTimestamp'
alias kgev1='k get ev --sort-by=.metadata.creationTimestamp'
alias kgcert1='k get cert --sort-by=.metadata.creationTimestamp'
alias kgcrs='k get crs --sort-by=.metadata.creationTimestamp'
alias kgpv1='k get pv --sort-by=.metadata.creationTimestamp'
alias kgpvc1='k get pvc --sort-by=.metadata.creationTimestamp'
alias kgn1='k get no --sort-by=.metadata.creationTimestamp'
alias kgpdb1='k get pdb --sort-by=.metadata.creationTimestamp'
alias kgep1='k get ep --sort-by=.metadata.creationTimestamp'

# KUBERNETES - use neat plugin
alias kgp2='k neat get po'
alias kgpo2='k neat get po -owide'
alias kgs2='k neat get svc'
alias kgi2='k neat get ing'
alias kgd2='k neat get deploy'
alias kgsts2='k neat get sts'
alias kgds2='k neat get ds'
alias kgsec2='k neat get secret'
alias kgsm2='k neat get servicemonitor'
alias kgpr2='k neat get prometheusrule'
alias kgns2='k neat get ns'
alias kgcm2='k neat get cm'
alias kgsa2='k neat get sa'
alias kghpa2='k neat get hpa'
alias kgsc2='k neat get sc'
alias kgev2='k neat get ev'
alias kgcert2='k neat get cert'
alias kgcrs2='k neat get crs'
alias kgpv2='k neat get pv'
alias kgpvc2='k neat get pvc'
alias kgpdb2='k neat get pdb'
alias kgep2='k neat get ep'

# KUBERNETES - grep specific resource
alias kgpg='kgp|grep $1'
alias kgpog='kgp -owide|grep $1'
alias kgsg='kgs|grep $1'
alias kgig='kgi|grep $1'
alias kgdg='kgd|grep $1'
alias kgstsg='kgsts|grep $1'
alias kgdsg='kgds|grep $1'
alias kgsecg='kgsec|grep $1'
alias kgsmg='kgsm|grep $1'
alias kgprg='kgpr|grep $1'
alias kgnsg='kgsn|grep $1'
alias kgcmg='kgcm|grep $1'
alias kgsag='kgsa|grep $1'
alias kghpag='kghpa|grep $1'
alias kgscg='kgsc|grep $1'
alias kgevg='kgsev|grep $1'
alias kgcertg='kgcert|grep $1'
alias kgcrsg='kgcrs|grep $1'
alias kgpvg='kgpv|grep $1'
alias kgpvcg='kgpvc|grep $1'
alias kgng='kgn|grep $1'
alias kgpdbg='kgpdb|grep $1'
alias kgepg='k get ep|grep $1'

# KUBERNETES - describe
alias kdp='k describe po'
alias kds='k describe svc'
alias kdi='k describe ing'
alias kdd='k describe deploy'
alias kdsts='k describe sts'
alias kdds='k describe ds'
alias kdsec='k describe secret'
alias kdsm='k describe servicemonitor'
alias kdpr='k describe prometheusrule'
alias kdns='k describe ns'
alias kdcm='k describe cm'
alias kdsa='k describe sa'
alias kdhpa='k describe hpa'
alias kdsc='k describe sc'
alias kdev='k describe ev'
alias kdcert='k describe cert'
alias kdcrs='k describe crs'
alias kdpv='k describe pv'
alias kdpvc='k describe pvc'
alias kdn='k describe no'
alias kdpdb='k describe pdb'
alias kdep='k describe ep'


# KUBERNETES - resources
alias ktp='k top pod | sort --key 3 --numeric'
alias ktpg='k top pod | grep $1'
alias ktpall='kubectl top pod -A | sort --key 4 --numeric'
alias ktpallg='kubectl top pod -A | grep $1'
alias ktpcpu='k top pod | sort --key 2 --numeric'
alias ktpc='kubectl top pod --containers'
alias ktn='k top no | sort --key 5 --numeric'
alias ktncpu=' k top no | sort --key 3 --numeric'
alias kc='k resource-capacity -u --pod-count'
alias kcp='k resource-capacity -p -u'
alias kcc='k resource-capacity -c -u'
alias kvu='k view-utilization -h'
alias kvun='k view-utilization -h node'
